{% load staticfiles %}
<!DOCTYPE html>

<html lang="en-US">
<head>

<!-- Meta Tags -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"/>

<title>Do Coding! | Login page</title>

<meta name="description" content="Insert Your Site Description" /> 

<!-- Mobile Specifics -->
<meta name="HandheldFriendly" content="true"/>
<meta name="MobileOptimized" content="320"/>   

<!-- Mobile Internet Explorer ClearType Technology -->
<!--[if IEMobile]>  <meta http-equiv="cleartype" content="on">  <![endif]-->

<!-- Bootstrap -->
<link href='{% static "_include/css/bootstrap.min.css" %}' rel="stylesheet">

<!-- Main Style -->
<link href='{% static "_include/css/main.css" %}' rel="stylesheet">

<!-- Supersized -->
<link href='{% static "_include/css/supersized.css" %}' rel="stylesheet">
<link href='{% static "_include/css/supersized.shutter.css" %}' rel="stylesheet">

<!-- FancyBox -->
<link href='{% static "_include/css/fancybox/jquery.fancybox.css" %}' rel="stylesheet">

<!-- Font Icons -->
<link href='{% static "_include/css/fonts.css" %}' rel="stylesheet">

<!-- Shortcodes -->
<link href='{% static "_include/css/shortcodes.css" %}' rel="stylesheet">

<!-- Responsive -->
<link href='{% static "_include/css/bootstrap-responsive.min.css" %}' rel="stylesheet">
<link href='{% static "_include/css/responsive.css" %}' rel="stylesheet">

<!-- Google Font -->
<link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,200,200italic,300,300italic,400italic,600,600italic,700,700italic,900' rel='stylesheet' type='text/css'>

<!-- Fav Icon -->
<link rel="shortcut icon" href="#">

<link rel="apple-touch-icon" href="#">
<link rel="apple-touch-icon" sizes="114x114" href="#">
<link rel="apple-touch-icon" sizes="72x72" href="#">
<link rel="apple-touch-icon" sizes="144x144" href="#">

<script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>
<script src='{% static "_include/js/naveridlogin_js_sdk_2.0.0.js" %}'></script>
<!-- Modernizr -->
<script src='{% static "_include/js/modernizr.js" %}'></script>

    <script language="javascript">
        var error = "{{ error }}"
        var name = "{{ username }}"
        var ip = "{{ ip }}"
        /*
        if(ip == "null"){
            alert("not found ip");
        }
        else{
            alert("found ip :" + ip);
        }
        */
        if(error == "No Error"){
            alert("{{ user_id }}");
            location.href='mypage.html' /*opens the target page while Id & userpwd matches*/
        }
        else if(error == "No Match") {
            alert("Error Password or Username");/*displays error message*/
        }
    </script>

<!-- Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'Insert Your Code']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Analytics -->

</head>


<body>

<!-- This section is for Splash Screen -->
<section id="jSplash">
    <div id="circle"></div>
</section>
<!-- End of Splash Screen -->

<!-- Homepage Slider -->
<div id="home-slider">  
    <div class="overlay"></div>
    
    <div class="slider-text">
        <div id="slidecaption"></div>
    </div>   
    
    <div class="control-nav">
        <a id="prevslide" class="load-item"><i class="font-icon-arrow-simple-left"></i></a>
        <a id="nextslide" class="load-item"><i class="font-icon-arrow-simple-right"></i></a>
        <ul id="slide-list"></ul>
        
        <a id="nextsection" href="#shortcodes"><i class="font-icon-arrow-simple-down"></i></a>
    </div>
</div>
<!-- End Homepage Slider -->

<!-- Header -->
<header>
    <div class="sticky-nav">
        <a id="mobile-nav" class="menu-nav" href="#menu-nav"></a>
        
        <div id="logo">
            <a id="goUp" href="#home-slider">Do Coding</a>
        </div>

        <nav id="menu">
            <ul id="menu-nav">
                <li><a href="manual.html" class="external"><span class="font-icon-gift"></span></a></li>
                <li><a href="home.html#home-slider" class="external">홈</a></li>
                <li><a href="home.html#learn" class="external">배우기</a></li>
                <li><a href="home.html#coderun" class="external">코드실행기</a></li>
                <li><a href="home.html#quiz" class="external">퀴즈</a></li>
                <li><a href="home.html#my" class="external">MY</a></li>
                <li class="current"><a href="#">서비스</a></li>
            </ul>
        </nav>
        
    </div>
</header>
<!-- End Header -->
        
<div id="login" class="page">
    <div class="container" style="clear: both;">
        <!-- Title Page -->
        <div class="row">
            <div class="span12">
                <h3 style="font-family:Comic Sans Ms;text-align="center";font-size:20pt;color:#00FF00;>
                    <h1>Simple Login Page</h1><br>
                    Username : {{ user_name }}<br>
                    Id : {{ user_id }}<br>
                    Pwd : {{ user_pwd }}<br>
                    Error : {{ error }}<br>
                </h3>

                <form name="login" action="login" method="post">
                    {{ crsf_token }}
                    
                    <li>Id<input type="text" name="userid" maxlength="20" required/></li>
                    <li>Password<input type="password" name="userpwd" maxlength="20" required"/></li>

                    <input type="submit" name="submit" value="Login"/>
                </form>
                <a href="register">register page</a>>
            </div>
        <a id="kakao-login-btn"></a>
        <input type="button" name="kakao-logout-btn" value="카카오톡계정 로그아웃" onclick="ktout()">
            <script type='text/javascript'>
              //<![CDATA[
                // 사용할 앱의 JavaScript 키를 설정해 주세요.
                Kakao.init('6c1995dcbbaede093266606ab1e4c059');
                // 카카오 로그인 버튼을 생성합니다.
                Kakao.Auth.createLoginButton({
                    container: '#kakao-login-btn',
                    success: function(authObj) {
                        Kakao.API.request({
                            url: '/v1/user/me',
                            success: function(res) {
                                alert(res.properties.nickname+'님 환경합니다.');
                                location.href="/runcode/login";
                            },
                            fail: function(error) {
                                alert(JSON.stringify(error));
                            }
                        });
                      },
                      fail: function(err) {
                         alert(JSON.stringify(err));
                      }
                    });
                function ktout() {
                    Kakao.Auth.logout(function() {
                        setTimeout(function(){
                            location.href="/runcode/login"
                        },1000);
                    });
                }
              //]]>
            </script>

            <!--

            <a id="naver-login-btn" type="button" src="https://static.nid.naver.com/oauth/big_g.PNG" width=240></a>
                <img src="https://static.nid.naver.com/oauth/big_g.PNG" width=240>
           
           -->
            <!-- //네이버아이디로로그인 버튼 노출 영역 -->

            <!--<script type="text/javascript" src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js" charset="utf-8"></script>-->


    <!-- (2) LoginWithNaverId Javscript 설정 정보 및 초기화 -->
    <!--
    <script>
        var naverLogin = new naver.LoginWithNaverId(
            {
                
                clientId: "VG_JonLfGH3tasAeC_6A",
                callbackUrl: "http://kakao.pythonanywhere.com/runcode/login",
                /*
                clientId: "VG_JonLfGH3tasAeC_6An",
                callbackUrl: "http://localhost:8000/runcode/login",
                */
                isPopup: false,
                callbackHandle: true
                /* callback 페이지가 분리되었을 경우에 callback 페이지에서는 callback처리를 해줄수 있도록 설정합니다. */
            }
        );


        /* (3) 네아로 로그인 정보를 초기화하기 위하여 init을 호출 */
        naverLogin.init();

        /* (4) Callback의 처리. 정상적으로 Callback 처리가 완료될 경우 main page로 redirect(또는 Popup close) */
        window.addEventListener('load', function () {
            naverLogin.getLoginStatus(function (status) {
                if (status) {
                    /* (5) 필수적으로 받아야하는 프로필 정보가 있다면 callback처리 시점에 체크 */
                    var name = naverLogin.user.getNickName();
                    if(name == undefined || name == null) {
                        alert("이름은 필수정보입니다. 정보제공을 동의해주세요.");
                        /* (5-1) 사용자 정보 재동의를 위하여 다시 네아로 동의페이지로 이동함 */
                        naverLogin.reprompt();
                        return;
                    }

                    window.location.replace("http://kakao.pythonanywhere.com/runcode/login");
                    //window.location.replace("http://localhost:8000/runcode/login");
                } else {
                    console.log("callback 처리에 실패하였습니다.");
                }
            });
        });
    </script>

            네이버아디디로로그인 초기화 Script 
            <script type="text/javascript">
                var naverLogin = new naver.LoginWithNaverId(
                    {
                        
                        clientId: "VG_JonLfGH3tasAeC_6An",
                        callbackUrl: "http://kakao.pythonanywhere.com/runcode/login",
                        
                        /*
                        clientId: "VG_JonLfGH3tasAeC_6A",
                        callbackUrl: "http://localhost:8000/runcode/login",
                        */
                        isPopup: false, /* 팝업을 통한 연동처리 여부 */
                        loginButton: {color: "green", type: 3, width: 360} /* 로그인 버튼의 타입을 지정 */
                    }
                );
                
                /* 설정정보를 초기화하고 연동을 준비 */
                naverLogin.init();
                
            </script>
            -->
            <!--
            <div id="kakaoidLogin">
                <a id="kakao-login-btn" type="button" href="loginWithKakao();"></a>
            </div>
<a id="kakao-login-btn"></a>
<a href="http://developers.kakao.com/logout"></a>
-->
<!--
<script type='text/javascript'>
  //<![CDATA[
    // 사용할 앱의 JavaScript 키를 설정해 주세요.
    Kakao.init('6c1995dcbbaede093266606ab1e4c059');
    // 카카오 로그인 버튼을 생성합니다.
    Kakao.Auth.createLoginButton({
      container: '#kakao-login-btn',
      success: function(authObj) {
        alert(JSON.stringify(authObj));
      },
      fail: function(err) {
         alert(JSON.stringify(err));
      }
    });
  //]]>

            <script type="text/javascript"></script>
            <script type="text/javascript">
                Kakao.init('6c1995dcbbaede093266606ab1e4c059');
                function loginWithKakao() {
                   // 로그인 창을 띄웁니다.
                   Kakao.Auth.login({
                     success: function(authObj) {
                       Kakao.API.request({
                             url: '/v1/user/me',
                             success: function(res) {
                             alert(JSON.stringify(res));
                               $.ajax({
                                   type:"post",
                            dataType:"json",
                                   url:"/indb.jsp",
                                   data : {
                                      "email":res.kaccount_email,
                                      "id":res.id,
                                      "nickname":res.properties.nickname,
                                   },
                                   success:function(data){
                                    if(data.login == "success"){
                                      alert("로그인되었습니다");
                                        location.href="/";
                                   },
                                   error:function(data){
                                      alert('error:'+data.result);
                                   }
                                });
                             },
                             fail: function(error) {
                               alert(JSON.stringify(error));
                             }
                           });
                     },
                     fail: function(err) {
                       alert(JSON.stringify(err));
                     }
                   });
                 };
            </script>
        -->
<!--
            <script type="text/javascript">
                var naverLogin = new naver.LoginWithNaverId({
                    clientid: "VG_JonLfGH3tasAeC_6A",
                    callbackURl: "http://localhost:8000/runcode/login",
                    isPopup: false,
                    loginButton: {color:"green",type:3,height:30}
                });
                naverLogin.init();
                window.addEventListener('load',function () {
                    naverLogin.getLoginStatus(function (status){
                        if (status) {
                            setLoginStatus();
                        }
                    })
                })
                function setLoginStatus() {
                    var name = naverLogin.user.getName();
                    var uniqId - naverLogin.user.getId();
                    $("#naverIdLogin_loginButton").html(name + '님 반갑습니다.');
                    $("#gnbLogin").html("Logout");
                    $("#gnbLogin").attr("href", "#");
                    /* (7) 로그아웃 버튼을 설정하고 동작을 정의합니다. */

                    $("#gnbLogin").click(function () {
                    naverLogin.logout();
                    document.location.reload();
                    });
                }
            </script>
        </div>
    </div>
</div>
-->
<!-- Footer -->
<footer>
    <p class="credits">&copy;2018 두코딩 <a href="http://kakao.pythonanywhere.com/runcode" title="두코딩 by href="http://kakao.pythonanywhere.com/runcode" title="lgb">Team WE 이기백</a></p>
</footer>
<!-- End Footer -->

<!-- Back To Top -->
<a id="back-to-top" href="#">
    <i class="font-icon-arrow-simple-up"></i>
</a>
<!-- End Back to Top -->

<!-- Js -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> <!-- jQuery Core -->
<script src='{% static "_include/js/bootstrap.min.js" %}'></script> <!-- Bootstrap -->
<script src='{% static "_include/js/supersized.3.2.7.min.js" %}'></script> <!-- Slider -->
<script src='{% static "_include/js/waypoints.js" %}'></script> <!-- WayPoints -->
<script src='{% static "_include/js/waypoints-sticky.js" %}'></script> <!-- Waypoints for Header -->
<script src='{% static "_include/js/jquery.isotope.js" %}'></script> <!-- Isotope Filter -->
<script src='{% static "_include/js/jquery.fancybox.pack.js" %}'></script> <!-- Fancybox -->
<script src='{% static "_include/js/jquery.fancybox-media.js" %}'></script> <!-- Fancybox for Media -->
<script src='{% static "_include/js/jquery.tweet.js" %}'></script> <!-- Tweet -->
<script src='{% static "_include/js/plugins.js" %}'></script> <!-- Contains: jPreloader, jQuery Easing, jQuery ScrollTo, jQuery One Page Navi -->
<script src='{% static "_include/js/main.js" %}'></script> <!-- Default JS -->
<!-- End Js -->

</body>
</html>